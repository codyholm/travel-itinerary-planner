<div class="container py-5">
  <section class="hero mb-5">
    <div class="hero-frame">
      <p class="hero-kicker mb-2">Curated departures</p>
      <h1 class="hero-title mb-3">Explore vacation packages</h1>
      <p class="hero-subtitle mb-0">
        Build an itinerary with sea-salt air, museum light, and late-night streets. Choose your extras; keep it yours.
      </p>
    </div>
  </section>

  <!-- Loading State -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3 text-muted">Loading vacation packages...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
    <i class="bi bi-exclamation-triangle-fill me-2"></i>
    {{ errorMessage }}
  </div>

  <!-- Vacations Grid -->
  <div *ngIf="!loading && !errorMessage" class="row g-4">
    <div *ngFor="let vacation of vacations; let i = index" class="col-md-6 col-lg-4">
      <article class="vacation-card card h-100 reveal" [style.animationDelay.ms]="i * 60">
        <div class="vacation-card__media">
          <img
            [src]="vacation.image_URL"
            [alt]="vacation.vacation_title"
            class="vacation-card__image"
            onerror="this.src='https://via.placeholder.com/400x250?text=Vacation+Image'"
          >
          <div class="vacation-card__wash" aria-hidden="true"></div>
          <div class="vacation-card__price">
            <span class="vacation-card__price-label">From</span>
            <span class="vacation-card__price-value">${{ vacation.travel_price | number:'1.0-0' }}</span>
          </div>
        </div>

        <div class="card-body d-flex flex-column">
          <h3 class="vacation-card__title mb-2">{{ vacation.vacation_title }}</h3>
          <p class="vacation-card__desc mb-4">
            {{ vacation.description || 'A carefully paced escape with room for your own detours.' }}
          </p>

          <div class="mt-auto d-flex justify-content-between align-items-center gap-3">
            <span class="meta-pill">
              <i class="bi bi-stars"></i>
              {{ vacation.excursions?.length || 0 }} excursions
            </span>
            <a [routerLink]="['/vacations', vacation.id]" class="btn btn-primary btn-sm">
              View details
            </a>
          </div>
        </div>
      </article>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !errorMessage && vacations.length === 0" class="text-center py-5">
    <i class="bi bi-inbox" style="font-size: 4rem; color: #ccc;"></i>
    <p class="mt-3 text-muted">No vacation packages available at this time.</p>
  </div>
</div>
